<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TFM - Geopolitical Trend in Real Time from News: CODI.source.get_dataset Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TFM - Geopolitical Trend in Real Time from News<span id="projectnumber">&#160;1</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespace_c_o_d_i_1_1source_1_1get__dataset.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CODI.source.get_dataset Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3f279dbb7e53038212954d73a32213f3" id="r_a3f279dbb7e53038212954d73a32213f3"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f279dbb7e53038212954d73a32213f3">combine_files_presidents</a> ()</td></tr>
<tr class="memdesc:a3f279dbb7e53038212954d73a32213f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine files of presidents of each country in one.  <br /></td></tr>
<tr class="separator:a3f279dbb7e53038212954d73a32213f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4bd12e469cb3c3a64fbc7079085fbb" id="r_a8f4bd12e469cb3c3a64fbc7079085fbb"><td class="memItemLeft" align="right" valign="top">DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f4bd12e469cb3c3a64fbc7079085fbb">get_dataset_old_news_weight</a> (my_spark, str path_hdfs_news, str iso_code='us')</td></tr>
<tr class="memdesc:a8f4bd12e469cb3c3a64fbc7079085fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare dataset of old news for US to train model to prodecit political position.  <br /></td></tr>
<tr class="separator:a8f4bd12e469cb3c3a64fbc7079085fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de8de98227f43c99ec18422a2daaa38" id="r_a8de8de98227f43c99ec18422a2daaa38"><td class="memItemLeft" align="right" valign="top">DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8de8de98227f43c99ec18422a2daaa38">get_dataset_last_news_weight</a> (my_spark)</td></tr>
<tr class="memdesc:a8de8de98227f43c99ec18422a2daaa38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare dataset of last news for all countries to predict next political position.  <br /></td></tr>
<tr class="separator:a8de8de98227f43c99ec18422a2daaa38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3f279dbb7e53038212954d73a32213f3" name="a3f279dbb7e53038212954d73a32213f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f279dbb7e53038212954d73a32213f3">&#9670;&#160;</a></span>combine_files_presidents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None CODI.source.get_dataset.combine_files_presidents </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combine files of presidents of each country in one. </p>
<p>to use when generate dataset to train model and to predict, in case some country had new election and consequently new president.</p>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<pre class="fragment"> Combine files of presidents of each country in one, to use when generate dataset to train
    model and to predict, in case some country had new election and consequently new president.
</pre> <div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespace_c_o_d_i_1_1source_1_1get__dataset_a3f279dbb7e53038212954d73a32213f3_icgraph.svg" width="475" height="120"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8de8de98227f43c99ec18422a2daaa38" name="a8de8de98227f43c99ec18422a2daaa38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de8de98227f43c99ec18422a2daaa38">&#9670;&#160;</a></span>get_dataset_last_news_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> DataFrame CODI.source.get_dataset.get_dataset_last_news_weight </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>my_spark</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare dataset of last news for all countries to predict next political position. </p>
<p>Filter news by pubDate from last appointment (presidential elections) date for each country till today, add label same of last appointment and weight. Weight upp if the publication date is close to the next appointment, in this case today. Calculate based on the number of days since the last presidential election.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_pspark</td><td>(SparkSession): Spark sesion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame prepared to prediction.</dd></dl>
<pre class="fragment"> Prepare dataset of last news for all countries to predict next political position.
    Filter news by pubDate from last appointment (presidential elections) date for each country
    till today, add label same of last appointment and weight. Weight upp if the publication
    date is close to the next appointment, in this case today. Calculate based on the number of
    days since the last presidential election.

Args:
    my_spark (SparkSession): Spark sesion.

Returns:
    DataFrame:  DataFrame prepared to prediction.
</pre> <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespace_c_o_d_i_1_1source_1_1get__dataset_a8de8de98227f43c99ec18422a2daaa38_cgraph.svg" width="475" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8f4bd12e469cb3c3a64fbc7079085fbb" name="a8f4bd12e469cb3c3a64fbc7079085fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4bd12e469cb3c3a64fbc7079085fbb">&#9670;&#160;</a></span>get_dataset_old_news_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> DataFrame CODI.source.get_dataset.get_dataset_old_news_weight </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>my_spark</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>path_hdfs_news</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str </td>          <td class="paramname"><span class="paramname"><em>iso_code</em></span><span class="paramdefsep"> = </span><span class="paramdefval">'us'</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare dataset of old news for US to train model to prodecit political position. </p>
<p>Filter news by pubDate from last appointment (presidential elections) date for each country to next one, add same label of last appointment and weight, where Weight will be upp if the publication date is close to the next appointment. Calculate based on the number of days presidential elections.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_pspark</td><td>(SparkSession): Spark sesion. </td></tr>
    <tr><td class="paramname">path_hdfs_news</td><td>(str): path where found the old news. </td></tr>
    <tr><td class="paramname">iso_code</td><td>(str, optional): country iso code. Defaults to 'us'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame weighted, ready to train model.</dd></dl>
<pre class="fragment"> Prepare dataset of old news for US to train model to prodecit political position.
    Filter news by pubDate from last appointment (presidential elections) date for each country
    to next one, add same label of last appointment and weight, where Weight will be upp if the
    publication date is close to the next appointment. Calculate based on the number of
    days presidential elections.

Args:
    my_pspark (SparkSession): Spark sesion.
    path_hdfs_news (str): path where found the old news.
    iso_code (str, optional): country iso code. Defaults to 'us'.

Returns:
    DataFrame: dataset prepared to train model.
</pre> <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespace_c_o_d_i_1_1source_1_1get__dataset_a8f4bd12e469cb3c3a64fbc7079085fbb_cgraph.svg" width="475" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_c_o_d_i.html">CODI</a></li><li class="navelem"><a class="el" href="namespace_c_o_d_i_1_1source.html">source</a></li><li class="navelem"><a class="el" href="namespace_c_o_d_i_1_1source_1_1get__dataset.html">get_dataset</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
